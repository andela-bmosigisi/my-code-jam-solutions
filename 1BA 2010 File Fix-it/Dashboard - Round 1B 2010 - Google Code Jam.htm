<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="refresh" content="172795">
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>
    Dashboard - Round 1B 2010 - Google Code Jam
  </title>
  <link rel="stylesheet" type="text/css" href="Dashboard%20-%20Round%201B%202010%20-%20Google%20Code%20Jam_files/base.css">
  <link rel="stylesheet" type="text/css" href="Dashboard%20-%20Round%201B%202010%20-%20Google%20Code%20Jam_files/dashboard.css">
  
  <script src="Dashboard%20-%20Round%201B%202010%20-%20Google%20Code%20Jam_files/ga.js" async="" type="text/javascript"></script><script type="text/javascript" src="Dashboard%20-%20Round%201B%202010%20-%20Google%20Code%20Jam_files/Dashboard_en.js"></script>
  
  <script type="text/javascript"><!--
    /**
     * Initializes GCJ.problems and GCJ.io from Django parameters.
     * Also initializes the two user specific variables GCJ.isQualified and
     * GCJ.lastClarSeenTime.
     * This is the first function called once from GCJ.main().
     */
    GCJ.initContestVariables = function () {
      // Convert Django's 'contest' to 'GCJ.contest'.
      GCJ.contest.id = "635101";
      GCJ.contest.name = "Round 1B 2010";
      GCJ.contest.version = 0;
      
        GCJ.contest.version = 3;
      
      GCJ.contest.start_int = 1274544000;
      GCJ.contest.running = false;
      GCJ.base_url = '/codejam/contest';
      GCJ.scoreboardLink = ('<a target="new"' +
                            'href="scoreboard?c=635101"' +
                            '>Contest scoreboard</a>');
    }

    /**
     * Returns the current splash page.
     */
    GCJ.getSplashPage = function () {
      return "/codejam";
    };
  //--></script>
</head>

<body onload="GCJ.main()">

<div id="logo-div">
  <a href="http://code.google.com/codejam/">
    <img src="Dashboard%20-%20Round%201B%202010%20-%20Google%20Code%20Jam_files/logo_image1.gif" id="logo" alt="Google Code Jam">
  </a>
</div>

<div>

<div id="dsb-page-body">

<div id="left-panel">
  <div class="v-divider"></div>
  <div class="v-divider"></div>
  <div class="v-divider"></div>
  <!-- Problem Selection Panel -->
  <div id="dsb-contest-title">Round 1B 2010</div>
  <hr class="dsb-hr">
  <div id="dsb-problem-selection-area">
    <div style="display: block;" id="dsb-problem-selection-list" class="after-start-only">
    <div><div id="dsb-problem-tab0" class="dsb-problem-tab-open" tabindex="0" role="button">  <div id="dsb-problem-title0" class="dynamic-link">A. File Fix-it  </div></div></div><div><div id="dsb-problem-tab1" class="dsb-problem-tab-close" tabindex="0" role="button">  <div id="dsb-problem-title1" class="dynamic-link">B. Picking Up Chicks  </div></div></div><div><div id="dsb-problem-tab2" class="dsb-problem-tab-close" tabindex="0" role="button">  <div id="dsb-problem-title2" class="dynamic-link">C. Your Rank is Pure  </div></div></div></div>
    <div style="display: none;" id="dsb-problem-selection-list-pre-contest" class="dsb-pre-contest-text before-start-only">
      
      The list of problems will appear here after the contest loads.
      
    </div>
  </div>
  <hr class="dsb-hr">
  <div class="v-divider"></div>
  <div class="v-divider"></div>
  <div style="display: block;" id="dsb-analysis-button" class="dsb-analysis-tab-close" tabindex="0" role="button">
    <div class="dynamic-link">
       <div id="dsb-analysis-tab">
         Contest Analysis
       </div>
    </div>
  </div>
  <div id="dsb-ask-question-area">
    <div style="display: block;" id="dsb-ask-question-button" class="dsb-clar-tab-close" tabindex="0" role="button">
      <div class="dynamic-link">
        <div class="dsb-has-new-question-tab" id="dsb-ask-question-tab">Questions asked<span class="dsb-unread-count">1</span></div>
      </div>
    </div>
    <div style="display: none;" class="dsb-pre-contest-text before-start-only">
      
      You'll be able to ask questions about the problems, and view your
      submissions, here.
      
    </div>
  </div>
  <div style="display: none;" id="dsb-submissions-button" class="dsb-submissions-tab-close" tabindex="0" role="button">
    <div class="dynamic-link">
      <div id="dsb-submissions-tab">
        View my submissions
      </div>
    </div>
  </div>
  <div class="v-divider"></div>
  <div class="v-divider"></div>
  <div class="dsb-mini-tab-wrapper">
  <div id="dsb-status-div-container">
    <div id="dsb-status-header-div" onmouseover="this.style.cursor='pointer'" onclick="GCJ.toggleStatusPanelVisibility();">
      <img id="dsb-status-panel-button" src="Dashboard%20-%20Round%201B%202010%20-%20Google%20Code%20Jam_files/minus.gif">
      &nbsp; Submissions
    </div>
    <div style="display: block;" id="dsb-status-tab" class="after-start-only">
      <div style="display: none;" id="dsb-status-tab-loading-text" class="dsb-pre-contest-text">
        Loading...
      </div>
    <div style="display: block;" id="dsb-status-tab-problems"><div><div id="dsb-problem-status-wrapper0" class="problem-status-wrapper">  <div class="dsb-status-problem-title">File Fix-it</div><div><table class="problemStatus">  <tbody>    <tr class="inputSetStatus">      <td id="inputName0_0" class="inputName">12pt</td>      <td class="status">        <div id="selfStat0_0" class="dsb-mini-status-non-highlight">Not attempted</div>        <div style="display: block;" id="globalStat0_0" class="globalStat"><b>3049/3404 users</b> correct (90%)</div>      </td>    </tr>  </tbody></table></div><div><table class="problemStatus">  <tbody>    <tr class="inputSetStatus">      <td id="inputName0_1" class="inputName">14pt</td>      <td class="status">        <div id="selfStat0_1" class="dsb-mini-status-non-highlight">Not attempted</div>        <div style="display: block;" id="globalStat0_1" class="globalStat"><b>2909/3047 users</b> correct (95%)</div>      </td>    </tr>  </tbody></table></div></div></div><div><div id="dsb-problem-status-wrapper1" class="problem-status-wrapper">  <div class="dsb-status-problem-title">Picking Up Chicks</div><div><table class="problemStatus">  <tbody>    <tr class="inputSetStatus">      <td id="inputName1_0" class="inputName">13pt</td>      <td class="status">        <div id="selfStat1_0" class="dsb-mini-status-non-highlight">Not attempted</div>        <div style="display: block;" id="globalStat1_0" class="globalStat"><b>1430/1965 users</b> correct (73%)</div>      </td>    </tr>  </tbody></table></div><div><table class="problemStatus">  <tbody>    <tr class="inputSetStatus">      <td id="inputName1_1" class="inputName">17pt</td>      <td class="status">        <div id="selfStat1_1" class="dsb-mini-status-non-highlight">Not attempted</div>        <div style="display: block;" id="globalStat1_1" class="globalStat"><b>1393/1424 users</b> correct (98%)</div>      </td>    </tr>  </tbody></table></div></div></div><div><div id="dsb-problem-status-wrapper2" class="problem-status-wrapper">  <div class="dsb-status-problem-title">Your Rank is Pure</div><div><table class="problemStatus">  <tbody>    <tr class="inputSetStatus">      <td id="inputName2_0" class="inputName">14pt</td>      <td class="status">        <div id="selfStat2_0" class="dsb-mini-status-non-highlight">Not attempted</div>        <div style="display: block;" id="globalStat2_0" class="globalStat"><b>1036/1705 users</b> correct (61%)</div>      </td>    </tr>  </tbody></table></div><div><table class="problemStatus">  <tbody>    <tr class="inputSetStatus">      <td id="inputName2_1" class="inputName">30pt</td>      <td class="status">        <div id="selfStat2_1" class="dsb-mini-status-non-highlight">Not attempted</div>        <div style="display: block;" id="globalStat2_1" class="globalStat"><b>502/827 users</b> correct (61%)</div>      </td>    </tr>  </tbody></table></div></div></div></div></div>
    <div style="display: none;" id="dsb-status-tab-pre-contest" class="dsb-pre-contest-text before-start-only">
      
      Statistics about the problems will appear here.  They'll include your
      status on each problem, and other contestants' attempts.
      
    </div>
  </div>
  </div>
  <div class="v-divider"></div>
  <div class="v-divider"></div>
  <!-- Mini Scoreboard -->
  <div class="dsb-mini-tab-wrapper">
    <div id="dsb-scoreboard-div">
      <div id="dsb-scoreboard-header-div" onmouseover="this.style.cursor='pointer'" onclick="GCJ.toggleVisibility(
              'dsb-scoreboard-table',
              'dsb-scoreboard-panel-button',
              '/codejam/contest/static/minus.gif',
              '/codejam/contest/static/plus.gif')">
          <img id="dsb-scoreboard-panel-button" src="Dashboard%20-%20Round%201B%202010%20-%20Google%20Code%20Jam_files/minus.gif">
          &nbsp; Top Scores
      </div>
      <div style="display: block;" id="dsb-scoreboard-table-wrap" class="after-start-only"><table id="dsb-scoreboard-table"><tbody><tr class="dsb-scoreboard-row-even" id="sbRow_0" style="display: block;"><td class="dsb-name-td" id="sbName_0">Gluk</td><td class="dsb-score-td" id="sbScore_0">100</td></tr><tr class="dsb-scoreboard-row-odd" id="sbRow_1" style="display: block;"><td class="dsb-name-td" id="sbName_1">yuhch123</td><td class="dsb-score-td" id="sbScore_1">100</td></tr><tr class="dsb-scoreboard-row-even" id="sbRow_2" style="display: block;"><td class="dsb-name-td" id="sbName_2">Gennady.Korotkevich</td><td class="dsb-score-td" id="sbScore_2">100</td></tr><tr class="dsb-scoreboard-row-odd" id="sbRow_3" style="display: block;"><td class="dsb-name-td" id="sbName_3">SergeyRogulenko</td><td class="dsb-score-td" id="sbScore_3">100</td></tr><tr class="dsb-scoreboard-row-even" id="sbRow_4" style="display: block;"><td class="dsb-name-td" id="sbName_4">andrewzta</td><td class="dsb-score-td" id="sbScore_4">100</td></tr><tr class="dsb-scoreboard-row-odd" id="sbRow_5" style="display: block;"><td class="dsb-name-td" id="sbName_5">vepifanov</td><td class="dsb-score-td" id="sbScore_5">100</td></tr><tr class="dsb-scoreboard-row-even" id="sbRow_6" style="display: block;"><td class="dsb-name-td" id="sbName_6">burunduk3</td><td class="dsb-score-td" id="sbScore_6">100</td></tr><tr class="dsb-scoreboard-row-odd" id="sbRow_7" style="display: block;"><td class="dsb-name-td" id="sbName_7">nika</td><td class="dsb-score-td" id="sbScore_7">100</td></tr><tr class="dsb-scoreboard-row-even" id="sbRow_8" style="display: block;"><td class="dsb-name-td" id="sbName_8">mystic</td><td class="dsb-score-td" id="sbScore_8">100</td></tr><tr class="dsb-scoreboard-row-odd" id="sbRow_9" style="display: block;"><td class="dsb-name-td" id="sbName_9">Vasyl</td><td class="dsb-score-td" id="sbScore_9">100</td></tr></tbody></table></div>
      <div style="display: none;" id="dsb-scoreboard-tab-pre-contest" class="dsb-pre-contest-text before-start-only">
        
        The scores of the top 10 contestants will appear here, with a link to
        the contest's scoreboard.
        
      </div>
      <div class="dsb-mini-tab-link">
      </div>
    </div>
  </div>
</div>

<div id="right-panel">
  <div style="visibility: hidden;" id="dsb-status-msg-wrapper" class="dsb-status-msg-wrapper" role="alert">
    <div id="dsb-status-msg" class="dsb-status-msg">
      <span id="dsb-status-msg-text">Loading problem information...</span>
      <span style="display: none;" id="dsb-view-sub-link">View submissions.</span>
    </div>
  </div>

  <div id="dsb-contest-title-bar">
    <div id="dsb-rank-etc">
      <span id="dsb-time-remaining">Practice Mode</span>
      <span style="display: inline;" class="after-start-only-inline">
        <span style="display: none;" id="dsb-current-rank-div">
          Rank: <span id="dsb-current-rank-span">--</span>
        </span>
        <span style="display: none;" id="dsb-current-score-div">
          Score: <span id="dsb-current-score-span">--</span>
        </span>
      </span>
    </div>
    <div id="dsb-title-links"><a target="new" href="http://code.google.com/codejam/contest/635101/scoreboard?c=635101">Contest scoreboard</a> | <a href="https://www.google.com/accounts/ServiceLogin?service=ah&amp;passive=true&amp;continue=https://appengine.google.com/_ah/conflogin%3Fcontinue%3Dhttp://code.google.com/codejam/contest/dashboard%253Fc%253D635101&amp;ltmpl=">Sign in</a></div>
  </div>
  <!-- Problem Statement -->
  <div id="main-panel-border" class="dsb-blue-border">
  <div id="dsb-border-inner">
   <!-- Problem Title -->
    <h3 id="dsb-problem-title-area">
      <span style="display: none;" id="dsb-problem-title-div-pre-contest" class="problem-title before-start-only">
        <span style="color:#666">Problem.</span>
        The problem's name goes here.
      </span>
      <span style="display: block;" id="dsb-problem-title-div" class="problem-title after-start-only"><span style="color:#666">Problem A.</span> File Fix-it</span>
    </h3>

    <div style="display: none;" class="dsb-content-pages before-start-only">
      
      We're now waiting for the contest to start.  Once the contest starts,
      the problems will automatically load, and Problem A will display here.
      You don't have to solve that problem first; you will be able to select
      another problem from the list to the left.  Once you've solved one
      problem, don't forget to work on the others!
      
    </div>

    <div id="dsb-problem-pages"><div style="display: block;" class="dsb-content-pages" id="dsb-problem-page0"><!-- Problem Input File Selection --><div class="dsb-input-panel-text" id="dsb-input-panel-text0"><span style="color: #666666;">This
 contest is open for practice.  You can try every problem as many times 
as you like, though we won't keep track of which problems you solve.  
Read the <a href="http://code.google.com/codejam/quickstart.html" target="_blank">Quick-Start Guide</a> to get started.</span></div><table><tbody id="dsb-input-form-table0"><tr><td class="dsb-input-table-description">Small input<br>12 points</td><td class="dsb-input-table-linktd"><div class="" id="dsb-action-box-wrap0-0"><div style="display: inline;" class="dsb-input-wrapper" id="dsb-input-wrapper0-0"><button style="display: inline;" id="dsb-input-start-button0-0" class="dsb-input-start-button">Solve A-small</button><span style="display: none;" id="dsb-input-link-plain0-0" class="dsb-input-link-span"><img src="Dashboard%20-%20Round%201B%202010%20-%20Google%20Code%20Jam_files/file.gif" class="dsb-input-link-img"><span id="dsb-input-link-plain-text0-0" class="dsb-input-link-text">Download A-small-practice.in</span></span></div><span style="display: none;" id="dsb-input-table-caption0-0" class="dsb-input-table-caption"></span><span style="display: none;" id="dsb-resubmit-caption0-0" class="dsb-input-table-caption">Your submission was received. You can still <span class="dsb-input-link-text" id="dsb-resubmit-link0-0">resubmit</span> for <span id="dsb-resubmit-timer0-0"></span>.<br>Only your last submission counts. <span class="dsb-input-link-text" id="dsb-resubmit-view-sub-link0-0">View your last submission</span>.</span><div><div style="display: none;" id="dsb-submit-form-div0-0" class="dsb-submit-form-div"><div style="display:none"><b>Time Remaining:</b> <span id="io_timer_0"></span>&nbsp;&nbsp;</div><div style="display:none"><b>Input:</b> A-small-practice.in.</div><form id="submit-formio_timer_0" action="/codejam/contest/635101/dashboard/do" enctype="multipart/form-data" method="post"><input name="csrfmiddlewaretoken" value="M2VlOTU3MjRiOTA5MjlkMmFlYmRjYTE5MTc4ZWFlYTV8fDEzOTcyMDA0OTgzMTcwMTQ=" type="hidden"><div class="dsb-submit-form-separator">your output file:<input id="output-fileio_timer_0" name="answer" class="submitFormFile" type="file"></div><div style="display: none"><table class="dsb-source-code-table"><tbody><tr><td style="padding:0.4em 0.2em 0 0">source code:&nbsp;&nbsp;</td><td><div id="source-filesio_timer_0"><div id="input-file-divio_timer_0-0"><span id="source-fileio_timer_0-0"><input class="submitFormFile" name="source-file0" type="file"></span><span style="visibility: hidden;" class="dsb-submit-form-links" id="remove-source-fileio_timer_0-0">remove</span></div></div><span id="add-source-fileio_timer_0" class="dsb-submit-form-links">Add another file</span></td></tr></tbody></table></div><div class="dsb-submit-form-separator" style="color:gray">source file(s): &nbsp;&nbsp;&nbsp;not needed for the practice contest</div><div class="dsb-submit-form-separator" style="text-align:center"><input id="submit-buttonio_timer_0" value="Submit file" type="button">&nbsp;&nbsp;<input id="dsb-hide-submissionio_timer_0" value="Hide" type="button"></div><div id="source-file-namesio_timer_0"></div><input name="cmd" value="SubmitAnswer" type="hidden"><input name="problem" value="563117" type="hidden"><input name="input_id" value="0" type="hidden"><input name="num_source_files" id="num-source-filesio_timer_0" value="1" type="hidden"><input name="agent" value="website" type="hidden"></form></div></div></div></td></tr><tr><td class="dsb-input-table-description">Large input<br>14 points</td><td class="dsb-input-table-linktd"><div class="" id="dsb-action-box-wrap0-1"><div style="display: inline;" class="dsb-input-wrapper" id="dsb-input-wrapper0-1"><button style="display: inline;" id="dsb-input-start-button0-1" class="dsb-input-start-button">Solve A-large</button><span style="display: none;" id="dsb-input-link-plain0-1" class="dsb-input-link-span"><img src="Dashboard%20-%20Round%201B%202010%20-%20Google%20Code%20Jam_files/file.gif" class="dsb-input-link-img"><span id="dsb-input-link-plain-text0-1" class="dsb-input-link-text">Download A-large-practice.in</span></span></div><span style="display: none;" id="dsb-input-table-caption0-1" class="dsb-input-table-caption"></span><span style="display: none;" id="dsb-resubmit-caption0-1" class="dsb-input-table-caption">Your submission was received. You can still <span class="dsb-input-link-text" id="dsb-resubmit-link0-1">resubmit</span> for <span id="dsb-resubmit-timer0-1"></span>.<br>Only your last submission counts. <span class="dsb-input-link-text" id="dsb-resubmit-view-sub-link0-1">View your last submission</span>.</span><div><div style="display: none;" id="dsb-submit-form-div0-1" class="dsb-submit-form-div"><div style="display:none"><b>Time Remaining:</b> <span id="io_timer_1"></span>&nbsp;&nbsp;</div><div style="display:none">You may resubmit this multiple times within the remaining time-frame. Only your last submission will count.</div><form id="submit-formio_timer_1" action="/codejam/contest/635101/dashboard/do" enctype="multipart/form-data" method="post"><input name="csrfmiddlewaretoken" value="M2VlOTU3MjRiOTA5MjlkMmFlYmRjYTE5MTc4ZWFlYTV8fDEzOTcyMDA0OTgzMTcwMTQ=" type="hidden"><div class="dsb-submit-form-separator">your output file:<input id="output-fileio_timer_1" name="answer" class="submitFormFile" type="file"></div><div style="display: none"><table class="dsb-source-code-table"><tbody><tr><td style="padding:0.4em 0.2em 0 0">source code:&nbsp;&nbsp;</td><td><div id="source-filesio_timer_1"><div id="input-file-divio_timer_1-0"><span id="source-fileio_timer_1-0"><input class="submitFormFile" name="source-file0" type="file"></span><span style="visibility: hidden;" class="dsb-submit-form-links" id="remove-source-fileio_timer_1-0">remove</span></div></div><span id="add-source-fileio_timer_1" class="dsb-submit-form-links">Add another file</span></td></tr></tbody></table></div><div class="dsb-submit-form-separator" style="color:gray">source file(s): &nbsp;&nbsp;&nbsp;not needed for the practice contest</div><div class="dsb-submit-form-separator" style="text-align:center"><input id="submit-buttonio_timer_1" value="Submit file" type="button">&nbsp;&nbsp;<input id="dsb-hide-submissionio_timer_1" value="Hide" type="button"></div><div id="source-file-namesio_timer_1"></div><input name="cmd" value="SubmitAnswer" type="hidden"><input name="problem" value="563117" type="hidden"><input name="input_id" value="1" type="hidden"><input name="num_source_files" id="num-source-filesio_timer_1" value="1" type="hidden"><input name="agent" value="website" type="hidden"></form></div></div></div></td></tr></tbody></table><!-- Problem Statement --><div id="dsb-problem-content-div0" class="dsb-problem-content-div"><h3>Problem</h3>

<p>
On Unix computers, data is stored in <i>directories</i>. There is one <i>root directory</i>,
 and this might have several directories contained inside of it, each 
with different names. These directories might have even more directories
 contained inside of them, and so on.
</p>

<p>
A directory is uniquely identified by its name and its parent directory 
(the directory it is directly contained in). This is usually encoded in a
 <i>path</i>, which consists of several parts each preceded by a forward
 slash ('/'). The final part is the name of the directory, and 
everything else gives the path of its parent directory. For example, 
consider the path:
</p><pre>/home/gcj/finals
</pre>
This refers to the directory with name "finals" in the directory 
described by "/home/gcj", which in turn refers to the directory with 
name "gcj" in the directory described by the path "/home". In this path,
 there is only one part, which means it refers to the directory with the
 name "home" in the root directory.
<p></p>

<p>
To create a directory, you can use the <i>mkdir</i> command. You specify a path, and then <i>mkdir</i> will create the directory described by that path, but <i>only if</i>
 the parent directory already exists.  For example, if you wanted to 
create the "/home/gcj/finals" and "/home/gcj/quals" directories from 
scratch, you would need four commands:
</p><pre>mkdir /home
mkdir /home/gcj
mkdir /home/gcj/finals
mkdir /home/gcj/quals
</pre>
<p></p>

<p>
Given the full set of directories already existing on your computer, and
 a set of new directories you want to create if they do not already 
exist, how many <i>mkdir</i> commands do you need to use?
</p>

<h3>Input</h3>
<p>
The first line of the input gives the number of test cases, <b>T</b>. <b>T</b> test cases follow. Each case begins with a line containing two integers <b>N</b> and <b>M</b>, separated by a space.
</p>

<p>
The next <b>N</b> lines each give the path of one directory that already
 exists on your computer. This list will include every directory already
 on your computer other than the root directory. (The root directory is 
on every computer, so there is no need to list it explicitly.)
</p>

<p>
The next <b>M</b> lines each give the path of one directory that you want to create.
</p>

<p>
Each of the paths in the input is formatted as in the problem statement 
above. Specifically, a path consists of one or more lower-case 
alpha-numeric strings (i.e., strings containing only the symbols 'a'-'z'
 and '0'-'9'), each preceded by a single forward slash. These 
alpha-numeric strings are never empty.
</p>

<h3>Output</h3>
<p>
For each test case, output one line containing "Case #x: y", where x is 
the case number (starting from 1) and y is the number of <i>mkdir</i> you need.
</p>

<h3>Limits</h3>
<p>
1 ≤ <b>T</b> ≤ 100.<br>
No path will have more than 100 characters in it.<br>
No path will appear twice in the list of directories already on your 
computer, or in the list of directories you wish to create. A path may 
appear once in both lists however. (See example case #2 below).<br>
If a directory is listed as being on your computer, then its parent 
directory will also be listed, unless the parent is the root directory.<br>
The input file will be no longer than 100,000 bytes in total.
</p>

<h4>Small dataset</h4>
<p>
0 ≤ <b>N</b> ≤ 10.<br>
1 ≤ <b>M</b> ≤ 10.
</p>

<h4>Large dataset</h4>
<p>
0 ≤ <b>N</b> ≤ 100.<br>
1 ≤ <b>M</b> ≤ 100.
</p>

<h3>Sample</h3>
<div class="problem-io-wrapper">
<table>
<tbody><tr>
<td>
<br>
<span class="io-table-header">Input</span>
<br>&nbsp;
</td>
<td>
<br>
<span class="io-table-header">Output</span>
<br>&nbsp;
</td>
</tr>
<tr>
<td>
<code>
3<br>
0 2<br>
/home/gcj/finals<br>
/home/gcj/quals<br>
2 1<br>
/chicken<br>
/chicken/egg<br>
/chicken<br>
1 3<br>
/a<br>
/a/b<br>
/a/c<br>
/b/b<br>
</code>
</td>
<td>
<code>
Case #1: 4<br>
Case #2: 0<br>
Case #3: 4<br>
<br>
</code>
</td></tr></tbody></table>
</div>
</div></div><div class="dsb-content-pages" id="dsb-problem-page1"><!-- Problem Input File Selection --><div class="dsb-input-panel-text" id="dsb-input-panel-text1"><span style="color: #666666;">This
 contest is open for practice.  You can try every problem as many times 
as you like, though we won't keep track of which problems you solve.  
Read the <a href="http://code.google.com/codejam/quickstart.html" target="_blank">Quick-Start Guide</a> to get started.</span></div><table><tbody id="dsb-input-form-table1"><tr><td class="dsb-input-table-description">Small input<br>13 points</td><td class="dsb-input-table-linktd"><div class="" id="dsb-action-box-wrap1-0"><div style="display: inline;" class="dsb-input-wrapper" id="dsb-input-wrapper1-0"><button style="display: inline;" id="dsb-input-start-button1-0" class="dsb-input-start-button">Solve B-small</button><span style="display: none;" id="dsb-input-link-plain1-0" class="dsb-input-link-span"><img src="Dashboard%20-%20Round%201B%202010%20-%20Google%20Code%20Jam_files/file.gif" class="dsb-input-link-img"><span id="dsb-input-link-plain-text1-0" class="dsb-input-link-text">Download B-small-practice.in</span></span></div><span style="display: none;" id="dsb-input-table-caption1-0" class="dsb-input-table-caption"></span><span style="display: none;" id="dsb-resubmit-caption1-0" class="dsb-input-table-caption">Your submission was received. You can still <span class="dsb-input-link-text" id="dsb-resubmit-link1-0">resubmit</span> for <span id="dsb-resubmit-timer1-0"></span>.<br>Only your last submission counts. <span class="dsb-input-link-text" id="dsb-resubmit-view-sub-link1-0">View your last submission</span>.</span><div><div style="display: none;" id="dsb-submit-form-div1-0" class="dsb-submit-form-div"><div style="display:none"><b>Time Remaining:</b> <span id="io_timer_2"></span>&nbsp;&nbsp;</div><div style="display:none"><b>Input:</b> B-small-practice.in.</div><form id="submit-formio_timer_2" action="/codejam/contest/635101/dashboard/do" enctype="multipart/form-data" method="post"><input name="csrfmiddlewaretoken" value="M2VlOTU3MjRiOTA5MjlkMmFlYmRjYTE5MTc4ZWFlYTV8fDEzOTcyMDA0OTgzMTcwMTQ=" type="hidden"><div class="dsb-submit-form-separator">your output file:<input id="output-fileio_timer_2" name="answer" class="submitFormFile" type="file"></div><div style="display: none"><table class="dsb-source-code-table"><tbody><tr><td style="padding:0.4em 0.2em 0 0">source code:&nbsp;&nbsp;</td><td><div id="source-filesio_timer_2"><div id="input-file-divio_timer_2-0"><span id="source-fileio_timer_2-0"><input class="submitFormFile" name="source-file0" type="file"></span><span style="visibility: hidden;" class="dsb-submit-form-links" id="remove-source-fileio_timer_2-0">remove</span></div></div><span id="add-source-fileio_timer_2" class="dsb-submit-form-links">Add another file</span></td></tr></tbody></table></div><div class="dsb-submit-form-separator" style="color:gray">source file(s): &nbsp;&nbsp;&nbsp;not needed for the practice contest</div><div class="dsb-submit-form-separator" style="text-align:center"><input id="submit-buttonio_timer_2" value="Submit file" type="button">&nbsp;&nbsp;<input id="dsb-hide-submissionio_timer_2" value="Hide" type="button"></div><div id="source-file-namesio_timer_2"></div><input name="cmd" value="SubmitAnswer" type="hidden"><input name="problem" value="542118" type="hidden"><input name="input_id" value="0" type="hidden"><input name="num_source_files" id="num-source-filesio_timer_2" value="1" type="hidden"><input name="agent" value="website" type="hidden"></form></div></div></div></td></tr><tr><td class="dsb-input-table-description">Large input<br>17 points</td><td class="dsb-input-table-linktd"><div class="" id="dsb-action-box-wrap1-1"><div style="display: inline;" class="dsb-input-wrapper" id="dsb-input-wrapper1-1"><button style="display: inline;" id="dsb-input-start-button1-1" class="dsb-input-start-button">Solve B-large</button><span style="display: none;" id="dsb-input-link-plain1-1" class="dsb-input-link-span"><img src="Dashboard%20-%20Round%201B%202010%20-%20Google%20Code%20Jam_files/file.gif" class="dsb-input-link-img"><span id="dsb-input-link-plain-text1-1" class="dsb-input-link-text">Download B-large-practice.in</span></span></div><span style="display: none;" id="dsb-input-table-caption1-1" class="dsb-input-table-caption"></span><span style="display: none;" id="dsb-resubmit-caption1-1" class="dsb-input-table-caption">Your submission was received. You can still <span class="dsb-input-link-text" id="dsb-resubmit-link1-1">resubmit</span> for <span id="dsb-resubmit-timer1-1"></span>.<br>Only your last submission counts. <span class="dsb-input-link-text" id="dsb-resubmit-view-sub-link1-1">View your last submission</span>.</span><div><div style="display: none;" id="dsb-submit-form-div1-1" class="dsb-submit-form-div"><div style="display:none"><b>Time Remaining:</b> <span id="io_timer_3"></span>&nbsp;&nbsp;</div><div style="display:none">You may resubmit this multiple times within the remaining time-frame. Only your last submission will count.</div><form id="submit-formio_timer_3" action="/codejam/contest/635101/dashboard/do" enctype="multipart/form-data" method="post"><input name="csrfmiddlewaretoken" value="M2VlOTU3MjRiOTA5MjlkMmFlYmRjYTE5MTc4ZWFlYTV8fDEzOTcyMDA0OTgzMTcwMTQ=" type="hidden"><div class="dsb-submit-form-separator">your output file:<input id="output-fileio_timer_3" name="answer" class="submitFormFile" type="file"></div><div style="display: none"><table class="dsb-source-code-table"><tbody><tr><td style="padding:0.4em 0.2em 0 0">source code:&nbsp;&nbsp;</td><td><div id="source-filesio_timer_3"><div id="input-file-divio_timer_3-0"><span id="source-fileio_timer_3-0"><input class="submitFormFile" name="source-file0" type="file"></span><span style="visibility: hidden;" class="dsb-submit-form-links" id="remove-source-fileio_timer_3-0">remove</span></div></div><span id="add-source-fileio_timer_3" class="dsb-submit-form-links">Add another file</span></td></tr></tbody></table></div><div class="dsb-submit-form-separator" style="color:gray">source file(s): &nbsp;&nbsp;&nbsp;not needed for the practice contest</div><div class="dsb-submit-form-separator" style="text-align:center"><input id="submit-buttonio_timer_3" value="Submit file" type="button">&nbsp;&nbsp;<input id="dsb-hide-submissionio_timer_3" value="Hide" type="button"></div><div id="source-file-namesio_timer_3"></div><input name="cmd" value="SubmitAnswer" type="hidden"><input name="problem" value="542118" type="hidden"><input name="input_id" value="1" type="hidden"><input name="num_source_files" id="num-source-filesio_timer_3" value="1" type="hidden"><input name="agent" value="website" type="hidden"></form></div></div></div></td></tr></tbody></table><!-- Problem Statement --><div id="dsb-problem-content-div1" class="dsb-problem-content-div"><h3>Problem</h3>
<p>
A flock of chickens are running east along a straight, narrow road. Each
 one is running with its own constant speed. Whenever a chick catches up
 to the one in front of it, it has to slow down and follow at the speed 
of the other chick. You are in a mobile crane behind the flock, chasing 
the chicks towards the barn at the end of the road. The arm of the crane
 allows you to pick up any chick momentarily, let the chick behind it 
pass underneath and place the picked up chick back down. This operation 
takes no time and can only be performed on a pair of chicks that are 
immediately next to each other, even if 3 or more chicks are in a row, 
one after the other.
</p>

<p>
Given the initial locations (<b>X<sub>i</sub></b>) at time 0 and natural speeds (<b>V<sub>i</sub></b>) of the chicks, as well as the location of the barn (<b>B</b>), what is the minimum number of swaps you need to perform with your crane in order to have at least <b>K</b> of the <b>N</b> chicks arrive at the barn no later than time <b>T</b>?
</p>

<p>
You may think of the chicks as points moving along a line. Even if 3 or 
more chicks are at the same location, next to each other, picking up one
 of them will only let one of the other two pass through. Any swap is 
instantaneous, which means that you may perform multiple swaps at the 
same time, but each one will count as a separate swap.
</p>

<h3>Input</h3>
<p>
The first line of the input gives the number of test cases, <b>C</b>.  <b>C</b> test cases follow.  Each test case starts with 4 integers on a line -- <b>N</b>, <b>K</b>, <b>B</b> and <b>T</b>. The next line contains the <b>N</b> different integers <b>X<sub>i</sub></b>, in increasing order. The line after that contains the <b>N</b> integers <b>V<sub>i</sub></b>. All distances are in meters; all speeds are in meters per second; all times are in seconds.
</p>

<h3>Output</h3>
<p>
For each test case, output one line containing "Case #x: <b>S</b>", where x is the case number (starting from 1) and <b>S</b> is the smallest number of required swaps, or the word "IMPOSSIBLE".
</p>

<h3>Limits</h3>
<p>
1 ≤ <b>C</b> ≤ 100;<br>
1 ≤ <b>B</b> ≤ 1,000,000,000;<br>
1 ≤ <b>T</b> ≤ 1,000;<br>
0 ≤ <b>X<sub>i</sub></b> &lt; <b>B</b>;<br>
1 ≤ <b>V<sub>i</sub></b> ≤ 100;<br>
All the <b>X<sub>i</sub></b>'s will be distinct and in increasing order.
</p>

<h4>Small dataset</h4>
<p>
1 ≤ <b>N</b> ≤ 10;<br>
0 ≤ <b>K</b> ≤ min(3, <b>N</b>);
</p>

<h4>Large dataset</h4>
<p>
1 ≤ <b>N</b> ≤ 50;<br>
0 ≤ <b>K</b> ≤ <b>N</b>;
</p>

<h3>Sample</h3>
<div class="problem-io-wrapper">
<table>
<tbody><tr>
<td>
<br>
<span class="io-table-header">Input</span>
<br>&nbsp;
</td>
<td>
<br>
<span class="io-table-header">Output</span>
<br>&nbsp;
</td>
</tr>
<tr>
<td>
<code>
3<br>
5 3 10 5<br>
0 2 5 6 7<br>
1 1 1 1 4<br>
5 3 10 5<br>
0 2 3 5 7<br>
2 1 1 1 4<br>
5 3 10 5<br>
0 2 3 4 7<br>
2 1 1 1 4<br>
</code>
</td>
<td>
<code>
Case #1: 0<br>
Case #2: 2<br>
Case #3: IMPOSSIBLE<br>
<br>
</code>
</td></tr></tbody></table>
</div>
</div></div><div class="dsb-content-pages" id="dsb-problem-page2"><!-- Problem Input File Selection --><div class="dsb-input-panel-text" id="dsb-input-panel-text2"><span style="color: #666666;">This
 contest is open for practice.  You can try every problem as many times 
as you like, though we won't keep track of which problems you solve.  
Read the <a href="http://code.google.com/codejam/quickstart.html" target="_blank">Quick-Start Guide</a> to get started.</span></div><table><tbody id="dsb-input-form-table2"><tr><td class="dsb-input-table-description">Small input<br>14 points</td><td class="dsb-input-table-linktd"><div class="" id="dsb-action-box-wrap2-0"><div style="display: inline;" class="dsb-input-wrapper" id="dsb-input-wrapper2-0"><button style="display: inline;" id="dsb-input-start-button2-0" class="dsb-input-start-button">Solve C-small</button><span style="display: none;" id="dsb-input-link-plain2-0" class="dsb-input-link-span"><img src="Dashboard%20-%20Round%201B%202010%20-%20Google%20Code%20Jam_files/file.gif" class="dsb-input-link-img"><span id="dsb-input-link-plain-text2-0" class="dsb-input-link-text">Download C-small-practice.in</span></span></div><span style="display: none;" id="dsb-input-table-caption2-0" class="dsb-input-table-caption"></span><span style="display: none;" id="dsb-resubmit-caption2-0" class="dsb-input-table-caption">Your submission was received. You can still <span class="dsb-input-link-text" id="dsb-resubmit-link2-0">resubmit</span> for <span id="dsb-resubmit-timer2-0"></span>.<br>Only your last submission counts. <span class="dsb-input-link-text" id="dsb-resubmit-view-sub-link2-0">View your last submission</span>.</span><div><div style="display: none;" id="dsb-submit-form-div2-0" class="dsb-submit-form-div"><div style="display:none"><b>Time Remaining:</b> <span id="io_timer_4"></span>&nbsp;&nbsp;</div><div style="display:none"><b>Input:</b> C-small-practice.in.</div><form id="submit-formio_timer_4" action="/codejam/contest/635101/dashboard/do" enctype="multipart/form-data" method="post"><input name="csrfmiddlewaretoken" value="M2VlOTU3MjRiOTA5MjlkMmFlYmRjYTE5MTc4ZWFlYTV8fDEzOTcyMDA0OTgzMTcwMTQ=" type="hidden"><div class="dsb-submit-form-separator">your output file:<input id="output-fileio_timer_4" name="answer" class="submitFormFile" type="file"></div><div style="display: none"><table class="dsb-source-code-table"><tbody><tr><td style="padding:0.4em 0.2em 0 0">source code:&nbsp;&nbsp;</td><td><div id="source-filesio_timer_4"><div id="input-file-divio_timer_4-0"><span id="source-fileio_timer_4-0"><input class="submitFormFile" name="source-file0" type="file"></span><span style="visibility: hidden;" class="dsb-submit-form-links" id="remove-source-fileio_timer_4-0">remove</span></div></div><span id="add-source-fileio_timer_4" class="dsb-submit-form-links">Add another file</span></td></tr></tbody></table></div><div class="dsb-submit-form-separator" style="color:gray">source file(s): &nbsp;&nbsp;&nbsp;not needed for the practice contest</div><div class="dsb-submit-form-separator" style="text-align:center"><input id="submit-buttonio_timer_4" value="Submit file" type="button">&nbsp;&nbsp;<input id="dsb-hide-submissionio_timer_4" value="Hide" type="button"></div><div id="source-file-namesio_timer_4"></div><input name="cmd" value="SubmitAnswer" type="hidden"><input name="problem" value="598111" type="hidden"><input name="input_id" value="0" type="hidden"><input name="num_source_files" id="num-source-filesio_timer_4" value="1" type="hidden"><input name="agent" value="website" type="hidden"></form></div></div></div></td></tr><tr><td class="dsb-input-table-description">Large input<br>30 points</td><td class="dsb-input-table-linktd"><div class="" id="dsb-action-box-wrap2-1"><div style="display: inline;" class="dsb-input-wrapper" id="dsb-input-wrapper2-1"><button style="display: inline;" id="dsb-input-start-button2-1" class="dsb-input-start-button">Solve C-large</button><span style="display: none;" id="dsb-input-link-plain2-1" class="dsb-input-link-span"><img src="Dashboard%20-%20Round%201B%202010%20-%20Google%20Code%20Jam_files/file.gif" class="dsb-input-link-img"><span id="dsb-input-link-plain-text2-1" class="dsb-input-link-text">Download C-large-practice.in</span></span></div><span style="display: none;" id="dsb-input-table-caption2-1" class="dsb-input-table-caption"></span><span style="display: none;" id="dsb-resubmit-caption2-1" class="dsb-input-table-caption">Your submission was received. You can still <span class="dsb-input-link-text" id="dsb-resubmit-link2-1">resubmit</span> for <span id="dsb-resubmit-timer2-1"></span>.<br>Only your last submission counts. <span class="dsb-input-link-text" id="dsb-resubmit-view-sub-link2-1">View your last submission</span>.</span><div><div style="display: none;" id="dsb-submit-form-div2-1" class="dsb-submit-form-div"><div style="display:none"><b>Time Remaining:</b> <span id="io_timer_5"></span>&nbsp;&nbsp;</div><div style="display:none">You may resubmit this multiple times within the remaining time-frame. Only your last submission will count.</div><form id="submit-formio_timer_5" action="/codejam/contest/635101/dashboard/do" enctype="multipart/form-data" method="post"><input name="csrfmiddlewaretoken" value="M2VlOTU3MjRiOTA5MjlkMmFlYmRjYTE5MTc4ZWFlYTV8fDEzOTcyMDA0OTgzMTcwMTQ=" type="hidden"><div class="dsb-submit-form-separator">your output file:<input id="output-fileio_timer_5" name="answer" class="submitFormFile" type="file"></div><div style="display: none"><table class="dsb-source-code-table"><tbody><tr><td style="padding:0.4em 0.2em 0 0">source code:&nbsp;&nbsp;</td><td><div id="source-filesio_timer_5"><div id="input-file-divio_timer_5-0"><span id="source-fileio_timer_5-0"><input class="submitFormFile" name="source-file0" type="file"></span><span style="visibility: hidden;" class="dsb-submit-form-links" id="remove-source-fileio_timer_5-0">remove</span></div></div><span id="add-source-fileio_timer_5" class="dsb-submit-form-links">Add another file</span></td></tr></tbody></table></div><div class="dsb-submit-form-separator" style="color:gray">source file(s): &nbsp;&nbsp;&nbsp;not needed for the practice contest</div><div class="dsb-submit-form-separator" style="text-align:center"><input id="submit-buttonio_timer_5" value="Submit file" type="button">&nbsp;&nbsp;<input id="dsb-hide-submissionio_timer_5" value="Hide" type="button"></div><div id="source-file-namesio_timer_5"></div><input name="cmd" value="SubmitAnswer" type="hidden"><input name="problem" value="598111" type="hidden"><input name="input_id" value="1" type="hidden"><input name="num_source_files" id="num-source-filesio_timer_5" value="1" type="hidden"><input name="agent" value="website" type="hidden"></form></div></div></div></td></tr></tbody></table><!-- Problem Statement --><div id="dsb-problem-content-div2" class="dsb-problem-content-div"><h3>Problem</h3>
<p>
</p><blockquote>
<i>Pontius</i>: You know, I like this number 127, I don't know why.<br>
<i>Woland</i>: Well, that is an object so pure. You know the <i>prime numbers</i>.<br>
<i>Pontius</i>: Surely I do. Those are the objects possessed by our 
ancient masters hundreds of years ago. Oh, yes, why then? 127 is indeed a
 prime number as I was told.<br>
<i>Woland</i>: Not... only... that. 127 is the 31st prime number; then, 
31 is itself a prime, it is the 11th; and 11 is the 5th; 5 is the 3rd; 
3, you know, is the second; and finally 2 is the 1st.<br>
<i>Pontius</i>: Heh, that is indeed... purely prime.<br>
</blockquote>
<p></p>
<p>
The game can be played on any subset <code>S</code> of positive integers. A number in <code>S</code> is considered pure with respect to <code>S</code> if, starting from it, you can continue taking its rank in <code>S</code>, and get a number that is also in <code>S</code>, until in finite steps you hit the number 1, which is not in <code>S</code>.
</p>
<p>
When <b>n</b> is given, in how many ways you can pick <code>S</code>, a subset of {2, 3, ..., n}, so that <b>n</b> is pure, with respect to <code>S</code>? The answer might be a big number, you need to output it modulo 100003.
</p>

<h3>Input</h3>
<p>
The first line of the input gives the number of test cases, <b>T</b>.  <b>T</b> lines follow.  Each contains a single integer <b>n</b>.
</p>

<h3>Output</h3>
<p>
For each test case, output one line containing "Case #x: y", where x is 
the case number (starting from 1) and y is the answer as described 
above.
</p>

<h3>Limits</h3>

<b>T</b> ≤ 100.<br>

<h4>Small dataset</h4>
<p>
2 ≤ <b>n</b> ≤ 25.
</p>

<h4>Large dataset</h4>
<p>
2 ≤ <b>n</b> ≤ 500.
</p>

<h3>Sample</h3>
<div class="problem-io-wrapper">
<table>
<tbody><tr>
<td>
<br>
<span class="io-table-header">Input</span>
<br>&nbsp;
</td>
<td>
<br>
<span class="io-table-header">Output</span>
<br>&nbsp;
</td>
</tr>
<tr>
<td>
<code>
2<br>
5<br>
6<br>
</code>
</td>
<td>
<code>
Case #1: 5<br>
Case #2: 8<br>
<br>
</code>
</td></tr></tbody></table>
</div>
</div></div></div>

    <div id="dsb-analysis-page" class="dsb-content-pages"><div id="dsb-analysis-selections"><span id="dsb-analysis-selection-p3" class="dsb-analysis-selected">Overview</span>&nbsp; | &nbsp;<span id="dsb-analysis-selection-p0" class="dsb-analysis-not-selected">Problem A</span>&nbsp; | &nbsp;<span id="dsb-analysis-selection-p1" class="dsb-analysis-not-selected">Problem B</span>&nbsp; | &nbsp;<span id="dsb-analysis-selection-p2" class="dsb-analysis-not-selected">Problem C</span></div><div class="dsb-problem-content-div" id="dsb-problem-analysis-div3"><p>
In this second sub-round of Round 1, the problems ranged from parse-and-simulate to standard dynamic programming.
</p>

<p>
Contestants found Round 1B easier than 1A. The winner, Gluk, was 
finished 26 minutes into the contest, with yuhch123 and 
Gennady.Korotkevic solving all 3 problems correctly just a few minutes 
later.
</p>

<h3>Cast</h3>
<p>Problem A. <i>File Fix-it</i> Written and prepared by David Arthur.</p>
<p>Problem B. <i>Picking Up Chicks</i> Written by Igor Naverniouk. Prepared by David Arthur and Igor Naverniouk.</p>
<p>Problem C. <i>Your Rank is Pure</i> Written by Xiaomin Chen. Prepared by Ante Derek and Xiaomin Chen.</p>
<p>Contest analysis presented by Xiaomin Chen and Petr Mitrichev.</p>
<p>Solutions and other problem preparation provided by John Dethridge, Petr Mitrichev, and Cosmin Negruseri.</p>
</div><div style="display: none;" class="dsb-problem-content-div" id="dsb-problem-analysis-div0"><p>
This is an easy problem. Especially when efficiency is not a big issue here.
</p>
<p>
For each directory you want to create, we get all the directories you <i>need</i>. Those are all the ancestors of that directory. For example, if one items in the input of wanted directories is
</p><pre>/home/gcj/round1b/problema/input
</pre>
We need all the following
<pre>/home
/home/gcj
/home/gcj/round1b
/home/gcj/round1b/problema
/home/gcj/round1b/problema/input
</pre>
<p></p>
<p>
Let <code>A</code> be the collection of all the directories we need, and <code>B</code> be the collection of all the directories that are already exist. Simply count how many elements are from <code>A</code> but not <code>B</code>. You need to use one <code>mkdir</code> for each of them.
</p>
</div><div style="display: none;" class="dsb-problem-content-div" id="dsb-problem-analysis-div1"><p>The solution for this problem consists of several steps, each making the problem a bit easier until it becomes simple.</p>
<h3>Step 1. Do swaps as fast as possible (or don't do them at all)</h3>
<p>Suppose a chick catches another one in front of it. We have the following options: 
</p><ol>
<li>lift the slow one immediately to let the fast one pass;</li>
<li>let them run together for some time, and then lift the small one;</li>
<li>let them run together all remaining time and not let the fast one pass at all.</li>
</ol><p></p>
<p>The first observation that we need to solve this problem is that 
option 2 is never necessary. Intuitively:  what's the point of holding 
the fast one if we will still do the same work on swapping them later? 
Formally: suppose we have a sequence of swaps that forms the solution 
for the problem, and that swaps chicks <b>P</b> and <b>Q</b> at time <b>T<sub>1</sub></b>, while they first meet at time <b>T<sub>0</sub></b>, <b>T<sub>0</sub></b>&lt;<b>T<sub>1</sub></b>. Let's move this swap to time <b>T<sub>0</sub></b>.
 Note that for each particular chick and each particular moment, the 
position of this chick at this moment will either stay unchanged, or 
move closer to the barn. Because of this, the changed solution is also 
valid.</p>
<h3>Step 2. Never swap two chicks that will make it to the barn in time</h3>
<p>Suppose that we swap two chicks that would both make it to the barn 
in time in the end. Then we can avoid this swap and still have both 
chicks arrive at the barn in time. We will need to do the same number of
 swaps for the fast chick during the rest of the way than we had to 
previously (or even fewer, since some chicks might get out of our way), 
so we'll save at least one swap by keeping the two chicks together until
 the end.</p>
<h3>Step 3. If a chick can't make it to the barn in time, all chicks behind it will have to swap with it</h3>
<p>Suppose a chick can't theoretically make it to the barn in time: <b>X<sub>i</sub></b>+<b>T</b>*<b>V<sub>i</sub></b>&lt;<b>B</b>.
 Then all chicks that start behind it will need to be swapped with this 
check or else they won't make it to the barn in time either.</p>
<h3>Step 4. Split the chicks into two classes to get a lower limit on the number of swaps</h3>
<p>Let's paint the chicks that can theoretically make it to the barn in time with <i>red</i> color, and the ones that can't do that with <i>blue</i> color.</p>
<p>For every red chick, the amount of swaps needed to get to the barn on
 time is at least the number of blue chicks that start closer to the 
barn. This gives us a lower bound on our answer: if we count this number
 for each red chick, then the answer is at least the sum of <b>K</b> smallest such numbers.</p>
<h3>Step 5. The lower bound that we've found is actually the correct answer</h3><p>At
 the previous step, we've found some swaps that are necessary in order 
to solve this problem. Now we note that we don't need any more swaps. 
More precisely, let's take <b>K</b> red chicks that are closest to the barn initially, and swap them with the blue chicks as soon as they reach any. Since we took <b>K</b>
 red chicks that are closest to the barn, the number of blue chicks that
 will get in their way is minimum possible (remember that we never need 
to swap two red chicks!).</p>
<h3>Step 6. Code!</h3>
<p>After making all of the above observations, the actual solution becomes very simple:
</p><pre>  num_red = 0
  num_blue = 0
  answer = 0
  for i = N - 1 .. 0:
    if num_red == K:
      break
    if X[i] + T * V[i] &lt; B:
      num_blue += 1
    else:
      num_red += 1
      answer += num_blue
  if num_red &gt;= K:
    output answer
  else
    output "IMPOSSIBLE"
</pre><p></p>
</div><div style="display: none;" class="dsb-problem-content-div" id="dsb-problem-analysis-div2"><h3>Foreword</h3>
<p>This is a very "mathematical" problem, and solving it required 
thinking in very formal terms. So please bear with a lot of formulas and
 little text in the below explanation.</p>
<h3>Initial approach</h3>
<p>Let's study the process described in the problem statement. Suppose the rank of number <b>N</b> with respect to set <b>S</b> is <b>K</b>. Since <b>N</b> is the largest number in <b>S</b>, that just means the number of elements in <b>S</b> is <b>K</b>.</p>
<p>Then let's consider the set <b>S'</b> = <b>S</b> ∩ {1, 2, ..., <b>K</b>}. From the definition of a pure number, <b>K</b> is now pure with respect to <b>S'</b>.</p>
<h3>Have we got a Dynamic Programming solution yet?</h3>
<p>Does that mean that we've managed to reduce the problem for <b>N</b> to a smaller problem for <b>K</b>? Not yet: suppose we know the number of possible sets <b>S'</b> for which <b>K</b> is pure. How do we find the number of sets <b>S</b> that contain this set (and for which <b>N</b> is pure and that have <b>K</b> elements)?</p>
<p>In order to do that, we need to know how many numbers are there in <b>S'</b>. Suppose there are <b>K'</b> numbers in <b>S'</b>. Then the number of ways to extend this set <b>S'</b> back to <b>S</b> is the number of ways to choose <b>K</b>-<b>K'</b>-1 numbers from the set {<b>K+1</b>, <b>K+2</b>, ..., <b>N-1</b>}.
</p><h3>Now we have a Dynamic Programming solution!</h3>
<p>Let's define <i><b>Count</b>[<b>N</b>, <b>K</b>]</i> to be the number of sets <b>S</b> that are subsets of {2, 3, ..., <b>N</b>}, have <b>K</b> elements, contain number <b>N</b> and for which number <b>N</b> is pure.</p>
<p>The above discussion proves that <b>Count</b>[<b>N</b>, <b>K</b>] is equal to the sum over all <b>K'</b> of <b>Count</b>[<b>K</b>, <b>K'</b>] times <b>C</b>[<b>N</b>-<b>K</b>-1, <b>K</b>-<b>K'</b>-1], where <i><b>C</b>[<b>A</b>, <b>B</b>]</i> is the number of ways to choose <b>B</b> items out of <b>A</b> (so-called <a href="http://www.google.com/search?q=combination+number" target="_blank">combination number</a>).</p>
<p>We can calculate <b>Count</b> values in increasing order of <b>N</b>. That will give us O(<b>N</b><sup>2</sup>) values to calculate, each requiring O(<b>N</b>) operations, for the total running time of O(<b>N</b><sup>3</sup>). That seems to be too slow for <b>N</b>=500 and 100 testcases.</p>
<h3>Final observation</h3>
<p>However, one can notice that the above algorithm calculates the answer for smaller values of <b>N</b> as well. That means we can run it just once for <b>N</b>=500, and get the answers for all testcases at once, so the total runtime will be just O(<b>N</b><sup>3</sup>), which is okay.</p>
</div></div>

    <div id="dsb-clarification-page" class="dsb-content-pages">
      <!-- The clarifications table -->
      <div id="clarTableDiv" class="clarTableWrapper"></div><div>
        <table style="display: block;" id="dsb-clarification-table">
          <colgroup span="9">
            <col width="16%"><col width="2%">
            <col width="10%"><col width="2%">
            <col width="28%"><col width="2%">
            <col width="10%"><col width="2%">
            <col width="28%">
          </colgroup>
          <thead>
            <tr>
            <th>Category</th><th>&nbsp;</th>
            <th class="clarTimeColumn">Asked</th><th>&nbsp;</th>
            <th>Question</th><th>&nbsp;</th>
            <th class="clarTimeColumn">Answered</th><th>&nbsp;</th>
            <th>Answer</th>
            </tr>
          </thead>
          <tbody id="dsb-clarification-tbody"><tr class="dsb-clar-tr dsb-clar-tr-announcement"><td class="clarProbTd">[Unknown]<br><span style="color: #666">Announcement</span></td><td></td><td class="clarTimeColumn">57:54</td><td></td><td><i>What is the precise definition of "rank"?</i></td><td></td><td style="color: red;" class="clarTimeColumn">58:36</td><td></td><td><i>The
 rank of a number x in a set is the number of elements of the set no 
greater than x. See the prologue for an example on the set of primes.</i></td></tr></tbody>
        </table>
      </div>
      <div style="display: none;" id="dsb-submit-clarification">
        <!-- The link to ask a clarification -->
        <div style="padding: 0.5em 0 0.3em 0;">
          <b>Ask a question:</b>
        </div>
        <!-- The form for asking clarification -->
        <div>
          <form onsubmit="return GCJ.submitClarification(this);"><div style="display:none;"><input name="csrfmiddlewaretoken" value="NmE2MDEyMTNlNzliMjFkNzhkOWJhNDgwOGRhYTVlY2Z8fDEzOTcyMDA0OTU5MjMwNzA=" type="hidden"></div>
            <div><textarea rows="5" cols="60" name="q"></textarea></div>
            <div style="padding-top: 0.3em">
              <select id="dsb-clarification-problem-select" name="problem">
                <option value="_" selected="selected">[General]</option>
              <option value="563117">A. File Fix-it</option><option value="542118">B. Picking Up Chicks</option><option value="598111">C. Your Rank is Pure</option></select>
              &nbsp;
              <input id="dsb-submit-clarification-button" value="Ask" type="submit">
            </div>
          </form>
        </div>
      </div>
      <!-- Too many pending clarifications -->
      <div id="dsb-cannot-ask-question-text" style="font-weight: bold; padding: 0.5em 0px 0.3em; display: block;">You cannot ask questions at this time. Please email us at codejam@google.com.</div>

    </div>

    <div id="dsb-submissions-page" class="dsb-content-pages">
      <div id="dsb-submissions-status" class="dsb-sub-status-msg">
        You have 0 submissions.
      </div>
      <table id="dsb-submissions-table" class="dsb-sub-main-table" style="display:none">
      <thead>
        <tr id="dsb-sub-main-table-header">
          <th class="dsb-sub-row-id-width">ID</th>
          <th class="dsb-sub-name-width">Problem</th>
          <th class="dsb-sub-difficulty-width">Size</th>
          <th class="dsb-sub-input-width">Input</th>
          <th class="dsb-sub-output-width">Output</th>
          <th class="dsb-sub-source-width">Solution</th>
          <th class="dsb-sub-status-width">Status</th>
          <th class="dsb-sub-time-width">Time</th>
        </tr>
      </thead>
      <tbody id="dsb-submissions-rows">
      </tbody>
      </table>
    </div>

  </div>
  </div>
</div>

</div>

<div style="height: 3em; clear: both;"></div>




<div id="footer">
  
  
  <p>
    
    All problem statements, input data and contest analyses are
    licensed under the
    <a href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution License</a>.
    
  </p>
  
  <span id="copyright">© 2008-2013 Google</span>
  <a href="http://www.google.com/">Google Home</a> -
  <a href="http://code.google.com/codejam/terms.html">Terms and Conditions</a> -
  <a href="http://www.google.com/intl/en/policies">Privacy Policies and Principles</a>
  <br><br>
  <a href="http://developers.google.com/appengine"><img src="Dashboard%20-%20Round%201B%202010%20-%20Google%20Code%20Jam_files/appengine-noborder-120x30.gif"></a>
  
</div>


<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-21302427-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script');
    ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(ga, s);
  })();
</script>



<div style="height: 1em">&nbsp;</div>

<script type="text/javascript">
GCJ.initHistory();
</script><input name="history_state0" id="history_state0" style="display:none" type="text">




</div></body></html>